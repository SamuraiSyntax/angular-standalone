<h2 class="text-primary my-5">Gestion de personnes</h2>

<app-personne-form
  [personne]="personneToAdd"
  [titre]="'Nouvelle personne'"
  (save)="onSaveNewPersonne($event)"
></app-personne-form>

<h3 class="text-primary my-5">Liste des personnes</h3>
@if(!erreur()) {
<div class="row row-cols-auto g-3">
  @for (p of personnes(); track $index) {
  <div class="col">
    <div
      class="card h-100 overflow-hidden w-100 mx-auto"
      style="min-width: 12vw; max-width: fit-content"
    >
      <div class="card-header d-flex justify-content-between align-items-center p-0 input-group">
        <h5 class="px-3 py-2 m-0 flex-grow-1">{{ p.prenom }} {{ p.nom }}</h5>
        <button
          class="btn btn-danger form-control rounded-0 flex-shrink-0"
          style="min-width: fit-content; max-width: 30px"
          (click)="supprimer(p.id!)"
        >
          <i class="fa-solid fa-trash"></i>
        </button>
      </div>
      <div class="card-body d-flex flex-column">
        <p class="card-text">ID: {{ p.id }}</p>
        <p class="card-text">Ã‚ge: {{ p.age }} ans</p>
      </div>
      <div
        class="card-footer d-flex justify-content-between align-items-center p-0 input-group text-nowrap"
      >
        <button class="btn btn-success form-control rounded-0" (click)="goToDetails(p.id!)">
          DÃ©tails
        </button>
      </div>
    </div>
  </div>
  }
</div>
} @else {
<p class="erreur text-danger">
  <i class="fa-solid fa-ban"></i> {{ erreur() }}<i class="fa-solid fa-ban"></i>
</p>
}
