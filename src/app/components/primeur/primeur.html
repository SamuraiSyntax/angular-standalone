<div class="container d-flex justify-content-center align-items-center flex-column gap-3">
  <h2 class="text-center">Liste des produits</h2>

  <div class="alert alert-info text-center" role="alert">
    Total du panier: {{ cartTotal() | currency:'EUR' }}
  </div>

  <div class="row">
    <div class="col">
      <div class="card">
        <h3 class="card-header text-center">Ajouter un nouveau produit</h3>
        <div class="card-body d-flex flex-column gap-2">
          <input
            class="form-control"
            type="text"
            [(ngModel)]="nouveauProduit.nom"
            placeholder="Nom du produit"
          />
          <input
            class="form-control"
            type="number"
            [(ngModel)]="nouveauProduit.prix"
            placeholder="Prix"
          />
          <input
            class="form-control"
            type="number"
            [(ngModel)]="nouveauProduit.quantite"
            placeholder="QuantitÃ©"
          />
        </div>
        <div class="card-footer text-center p-0 overflow-hidden">
          <button class="btn btn-primary w-100 rounded-0" (click)="ajouterProduit()">Ajouter</button>
        </div>
      </div>
    </div>
  </div>

  <div class="row row-cols g-4 justify-content-start align-items-center flex-wrap">
    @for (produit of produits(); track produit.nom) {
    <div class="col-auto">
      <app-produit
        [produit]="produit"
        (produitAchete)="onProduitAchete($event)"
        (quantiteChoisieChangee)="onQuantiteChoisieChange($event)"
        (produitSupprime)="onProduitSupprime($event)"
      ></app-produit>
    </div>
    }
  </div>
</div>
